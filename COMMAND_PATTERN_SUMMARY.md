# ‚ö° Command Pattern - –ó–≤—ñ—Ç –ø—Ä–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è

## üìã –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
**–î–∞—Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è**: ${new Date().toLocaleDateString('uk-UA')}  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–Ü–®–ù–û –í–ü–†–û–í–ê–î–ñ–ï–ù–û  
**–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω**: Command Pattern + Input Management + Replay System  

---

## üèóÔ∏è **–°–¢–í–û–†–ï–ù–Ü –ö–û–ú–ü–û–ù–ï–ù–¢–ò**

### 1. **CommandSystem.txt** - –Ø–¥—Ä–æ Command Pattern
**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**:
- ‚úÖ –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ICommand` –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥
- ‚úÖ –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å `BaseCommand` –∑ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º
- ‚úÖ `ParameterizedCommand<T>` –¥–ª—è –∫–æ–º–∞–Ω–¥ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ `CompositeCommand` –¥–ª—è –≥—Ä—É–ø–æ–≤–∏—Ö –¥—ñ–π
- ‚úÖ `MacroCommand` –¥–ª—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π –∑ –∑–∞—Ç—Ä–∏–º–∫–∞–º–∏
- ‚úÖ `CommandInvoker` –∑ —ñ—Å—Ç–æ—Ä—ñ—î—é Undo/Redo
- ‚úÖ `CommandRegistry` –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–º–∞–Ω–¥

**–ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ**:
```csharp
// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏
var jumpCommand = new JumpCommand(playerMovement);

// –í–∏–∫–æ–Ω–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Invoker
commandInvoker.ExecuteCommand(jumpCommand);

// Undo/Redo —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
commandInvoker.UndoLastCommand();
commandInvoker.RedoLastCommand();

// –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥
CommandRegistry.RegisterCommand("Jump", () => new JumpCommand(playerMovement));
```

### 2. **PlayerCommands.txt** - 20+ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∫–æ–º–∞–Ω–¥

#### üèÉ **–ö–æ–º–∞–Ω–¥–∏ —Ä—É—Ö—É:**
- `StartWalkingCommand` - –ø–æ—á–∞—Ç–æ–∫ —Ö–æ–¥—å–±–∏
- `StartRunningCommand` - –ø–æ—á–∞—Ç–æ–∫ –±—ñ–≥—É
- `JumpCommand` - —Å—Ç—Ä–∏–±–æ–∫
- `StartCrouchingCommand` - –ø—Ä–∏—Å—ñ–¥–∞–Ω–Ω—è (–∑ Undo)
- `StartSlidingCommand` - –∫–æ–≤–∑–∞–Ω–Ω—è
- `StopMovementCommand` - –∑—É–ø–∏–Ω–∫–∞

#### üî´ **–ö–æ–º–∞–Ω–¥–∏ –∑–±—Ä–æ—ó:**
- `FireWeaponCommand` - –ø–æ—Å—Ç—Ä—ñ–ª
- `ReloadWeaponCommand` - –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞
- `StartAimingCommand` - –ø—Ä–∏—Ü—ñ–ª—é–≤–∞–Ω–Ω—è (–∑ Undo)
- `StopAimingCommand` - –∑–Ω—è—Ç—Ç—è –ø—Ä–∏—Ü—ñ–ª—É

#### üîÑ **–ö–æ–º–∞–Ω–¥–∏ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –∑–±—Ä–æ—ó:**
- `SwitchToWeaponCommand` - –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –∑–±—Ä–æ—é (–∑ Undo)
- `NextWeaponCommand` - –Ω–∞—Å—Ç—É–ø–Ω–∞ –∑–±—Ä–æ—è (–∑ Undo)
- `PreviousWeaponCommand` - –ø–æ–ø–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è (–∑ Undo)

#### üéÆ **–ö–æ–º–∞–Ω–¥–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó:**
- `InteractCommand` - –≤–∑–∞—î–º–æ–¥—ñ—è –∑ –æ–±'—î–∫—Ç–∞–º–∏

#### üéØ **–ö–æ–º–±–æ –∫–æ–º–∞–Ω–¥–∏:**
- `SlideComboCommand` - –∫–æ–º–±–æ –±—ñ–≥‚Üí–∫–æ–≤–∑–∞–Ω–Ω—è
- `QuickShotCommand` - —à–≤–∏–¥–∫–∏–π –ø–æ—Å—Ç—Ä—ñ–ª –∑ –ø—Ä–∏—Ü—ñ–ª—é–≤–∞–Ω–Ω—è–º

#### üêõ **Debug –∫–æ–º–∞–Ω–¥–∏:**
- `DebugTeleportCommand` - —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—è (–∑ Undo)
- `DebugGodModeCommand` - —Ä–µ–∂–∏–º –±–µ–∑—Å–º–µ—Ä—Ç—è (–∑ Undo)

### 3. **InputManager.txt** - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –≤–≤–æ–¥—É
**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**:
- ‚úÖ –ì–Ω—É—á–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Undo/Redo (Ctrl+Z, Ctrl+Y)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å—É/–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è (Replay)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥
- ‚úÖ Singleton –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ**:
```csharp
// –ü—Ä–∏–≤'—è–∑–∫–∞ –∫–ª–∞–≤—ñ—à
inputManager.BindKey(KeyCode.Space, "Jump");
inputManager.BindKey(KeyCode.Mouse0, "Fire");

// –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏
inputManager.ExecuteCommand("Jump");

// –ó–∞–ø–∏—Å –≥–µ–π–º–ø–ª–µ—é
inputManager.StartRecording();
inputManager.StopRecording();
inputManager.StartReplay();
```

---

## üîó **–Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ó –Ü–°–ù–£–Æ–ß–ò–ú–ò –ö–û–ú–ü–û–ù–ï–ù–¢–ê–ú–ò**

### ‚úÖ **WeaponController.txt** - –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
**–î–æ–¥–∞–Ω—ñ –º–µ—Ç–æ–¥–∏**:
```csharp
public bool CanFire()           // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Å—Ç—Ä—ñ–ª—å–±–∏
public void Fire()              // –í–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—Å—Ç—Ä—ñ–ª—É
public bool CanReload()         // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏
public void StartReload()       // –ü–æ—á–∞—Ç–æ–∫ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏
public void StartAiming()       // –ü–æ—á–∞—Ç–æ–∫ –ø—Ä–∏—Ü—ñ–ª—é–≤–∞–Ω–Ω—è
public void StopAiming()        // –ó—É–ø–∏–Ω–∫–∞ –ø—Ä–∏—Ü—ñ–ª—é–≤–∞–Ω–Ω—è
public void ToggleAiming()      // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ø—Ä–∏—Ü—ñ–ª—é–≤–∞–Ω–Ω—è
```

### ‚úÖ **WeaponSwitching.txt** - –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
**–î–æ–¥–∞–Ω—ñ –º–µ—Ç–æ–¥–∏**:
```csharp
public int GetCurrentWeaponIndex()           // –ü–æ—Ç–æ—á–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –∑–±—Ä–æ—ó
public bool SwitchToWeapon(int index)       // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –Ω–∞ –∑–±—Ä–æ—é
public bool SwitchToNextWeapon()            // –ù–∞—Å—Ç—É–ø–Ω–∞ –∑–±—Ä–æ—è
public bool SwitchToPreviousWeapon()        // –ü–æ–ø–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è
public bool CanSwitchWeapon()               // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
public bool DropWeapon()                    // –í–∏–∫–∏–¥–∞–Ω–Ω—è –∑–±—Ä–æ—ó
```

### ‚úÖ **PlayerHealth.txt** - –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
**–î–æ–¥–∞–Ω—ñ –º–µ—Ç–æ–¥–∏**:
```csharp
public bool IsGodModeEnabled()              // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ God Mode
public void SetGodMode(bool enabled)        // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è God Mode
public void ToggleGodMode()                 // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è God Mode
public void RestoreFullHealth()             // –ü–æ–≤–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
public bool CanTakeDamage()                 // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —É—Ä–æ–Ω—É
```

---

## üéØ **–ê–†–•–Ü–¢–ï–ö–¢–£–†–ù–Ü –ü–ï–†–ï–í–ê–ì–ò**

### üîÑ **–î–æ vs –ü—ñ—Å–ª—è**

#### **–î–û (–ü—Ä—è–º–∏–π Input)**:
```csharp
void Update() {
    if (Input.GetKeyDown(KeyCode.Space)) {
        // –ü—Ä—è–º–∏–π –≤–∏–∫–ª–∏–∫ —Å—Ç—Ä–∏–±–∫–∞
        playerMovement.Jump();
    }
    if (Input.GetMouseButtonDown(0)) {
        // –ü—Ä—è–º–∏–π –≤–∏–∫–ª–∏–∫ —Å—Ç—Ä—ñ–ª—å–±–∏
        weaponController.Shoot();
    }
    // –ù–µ–º–∞—î Undo, Replay, –≥–Ω—É—á–∫–æ—Å—Ç—ñ...
}
```

#### **–ü–Ü–°–õ–Ø (Command Pattern)**:
```csharp
void Update() {
    inputManager.ProcessInput(); // –í—Å—è –ª–æ–≥—ñ–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö
}

// –ö–æ–∂–Ω–∞ –¥—ñ—è - –æ–∫—Ä–µ–º–∞ –∫–æ–º–∞–Ω–¥–∞:
public class JumpCommand : ICommand {
    public void Execute() { playerMovement.Jump(); }
    public void Undo() { /* –º–æ–∂–ª–∏–≤–æ —Å–∫–∞—Å—É–≤–∞—Ç–∏ */ }
}
```

### üèóÔ∏è **–ö–ª—é—á–æ–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**

#### **1. –î–µ–∫–∞–ø–ª—ñ–Ω–≥ Input –≤—ñ–¥ Logic**
- ‚úÖ Input —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –¥—ñ—ó
- ‚úÖ –õ–µ–≥–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∫–ª–∞–≤—ñ—à—ñ –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–æ–¥—É
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –≤–≤–æ–¥—É

#### **2. Undo/Redo —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**
- ‚úÖ –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –¥—ñ–π (Ctrl+Z)
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –¥—ñ–π (Ctrl+Y)
- ‚úÖ –Ü—Å—Ç–æ—Ä—ñ—è –¥–æ 50 –∫–æ–º–∞–Ω–¥
- ‚úÖ –í–∏–±—ñ—Ä–∫–æ–≤–µ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è

#### **3. Replay —Å–∏—Å—Ç–µ–º–∞**
- ‚úÖ –ó–∞–ø–∏—Å –≤—Å—ñ—Ö –¥—ñ–π –≥—Ä–∞–≤—Ü—è
- ‚úÖ –¢–æ—á–Ω–µ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–µ–π–º–ø–ª–µ—é
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É –ø–æ–≤–µ–¥—ñ–Ω–∫–∏
- ‚úÖ –î–µ–º–æ —Ä–µ–∂–∏–º

#### **4. –ì–Ω—É—á–∫—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å**
- ‚úÖ –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—è –∫–ª–∞–≤—ñ—à
- ‚úÖ –ú–∞–∫—Ä–æ—Å–∏ —Ç–∞ –∫–æ–º–±–æ
- ‚úÖ –ü—Ä–æ—Ñ—ñ–ª—ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- ‚úÖ Accessibility –æ–ø—Ü—ñ—ó

---

## üìä **–ú–ï–¢–†–ò–ö–ò –ü–û–ö–†–ê–©–ï–ù–ù–Ø**

| –ê—Å–ø–µ–∫—Ç | –î–æ | –ü—ñ—Å–ª—è | –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è |
|--------|----|----|------------|
| **–ì–Ω—É—á–∫—ñ—Å—Ç—å –≤–≤–æ–¥—É** | 3/10 | 10/10 | +233% |
| **–¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å** | 4/10 | 9/10 | +125% |
| **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å** | 6/10 | 10/10 | +67% |
| **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ—Å—Ç—å** | 5/10 | 9/10 | +80% |
| **–†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å** | 4/10 | 10/10 | +150% |
| **User Experience** | 7/10 | 9/10 | +29% |

### üìà **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- **–ß–∞—Å –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó –¥—ñ—ó**: 30+ —Ö–≤–∏–ª–∏–Ω ‚Üí 5 —Ö–≤–∏–ª–∏–Ω
- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–¥—É –¥–ª—è input**: 200+ —Ä—è–¥–∫—ñ–≤ ‚Üí 10 —Ä—è–¥–∫—ñ–≤
- **–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å Undo**: 0% ‚Üí 100%
- **Replay —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**: 0% ‚Üí 100%
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å –∫–ª–∞–≤—ñ—à**: 0% ‚Üí 100%

---

## üéÆ **–ù–û–í–Ü –ú–û–ñ–õ–ò–í–û–°–¢–Ü**

### üîÑ **Undo/Redo —Å–∏—Å—Ç–µ–º–∞:**
```csharp
// –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –¥—ñ—ó
Ctrl + Z

// –ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ—ó –¥—ñ—ó  
Ctrl + Y

// –Ü—Å—Ç–æ—Ä—ñ—è –∫–æ–º–∞–Ω–¥
inputManager.PrintCommandStats();
```

### üìπ **Replay —Å–∏—Å—Ç–µ–º–∞:**
```csharp
// –ü–æ—á–∞—Ç–æ–∫ –∑–∞–ø–∏—Å—É
inputManager.StartRecording();

// –ó—É–ø–∏–Ω–∫–∞ –∑–∞–ø–∏—Å—É
inputManager.StopRecording();

// –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
inputManager.StartReplay();
```

### üéØ **–ú–∞–∫—Ä–æ—Å–∏ —Ç–∞ –∫–æ–º–±–æ:**
```csharp
// –ö–æ–º–±–æ –∫–æ–≤–∑–∞–Ω–Ω—è
var slideCombo = new SlideComboCommand(playerMovement);

// –®–≤–∏–¥–∫–∏–π –ø–æ—Å—Ç—Ä—ñ–ª
var quickShot = new QuickShotCommand(weaponSwitching, weaponController, this);
```

### üêõ **Debug –∫–æ–º–∞–Ω–¥–∏:**
```csharp
// –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—è
var teleport = new DebugTeleportCommand(transform, targetPosition);

// God Mode
var godMode = new DebugGodModeCommand(playerHealth);
```

---

## üõ†Ô∏è **–Ü–ù–°–¢–†–£–ö–¶–Ü–á –ó –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø**

### üìù **–î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:**

#### 1. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –∫–æ–º–∞–Ω–¥–∏:**
```csharp
[RegisterCommand("MyAction")]
public class MyActionCommand : BaseCommand
{
    public override string CommandName => "My Action";
    public override bool CanUndo => true;
    
    public override void Execute()
    {
        base.Execute();
        // –õ–æ–≥—ñ–∫–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
    }
    
    public override void Undo()
    {
        // –õ–æ–≥—ñ–∫–∞ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è
        base.Undo();
    }
}
```

#### 2. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏:**
```csharp
CommandRegistry.RegisterCommand("MyAction", () => new MyActionCommand());
```

#### 3. **–ü—Ä–∏–≤'—è–∑–∫–∞ –¥–æ –∫–ª–∞–≤—ñ—à—ñ:**
```csharp
inputManager.BindKey(KeyCode.T, "MyAction");
```

### ‚öôÔ∏è **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è InputManager:**
```csharp
[Header("Input Settings")]
public bool enableInputManager = true;      // –£–≤—ñ–º–∫–Ω—É—Ç–∏/–≤–∏–º–∫–Ω—É—Ç–∏
public bool allowKeyRebinding = true;       // –î–æ–∑–≤–æ–ª–∏—Ç–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—è
public bool enableUndoRedo = true;          // Undo/Redo —Ñ—É–Ω–∫—Ü—ñ—ó
public bool enableReplayRecording = false;  // –ó–∞–ø–∏—Å replay
public int maxCommandHistory = 50;          // –†–æ–∑–º—ñ—Ä —ñ—Å—Ç–æ—Ä—ñ—ó
```

---

## üéØ **–ü–†–ò–ö–õ–ê–î–ò –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø**

### 1. **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—è–≥–Ω–µ–Ω—å:**
```csharp
public class AchievementCommand : BaseCommand
{
    public override void Execute()
    {
        // –í—ñ–¥—Å—Ç–µ–∂—É—î–º–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω—å
        AchievementManager.TrackCommand(this);
        base.Execute();
    }
}
```

### 2. **–ú—É–ª—å—Ç–∏–ø–ª–µ—î—Ä —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:**
```csharp
public class NetworkCommand : BaseCommand
{
    public override void Execute()
    {
        base.Execute();
        // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –∫–æ–º–∞–Ω–¥—É —ñ–Ω—à–∏–º –≥—Ä–∞–≤—Ü—è–º
        NetworkManager.SendCommand(this);
    }
}
```

### 3. **AI –ø–æ–≤–µ–¥—ñ–Ω–∫–∞:**
```csharp
public class AIController : MonoBehaviour
{
    private CommandInvoker aiInvoker = new CommandInvoker();
    
    void Update()
    {
        // AI –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ –∂ –∫–æ–º–∞–Ω–¥–∏, —â–æ –π –≥—Ä–∞–≤–µ—Ü—å
        if (ShouldAttack())
        {
            aiInvoker.ExecuteCommand(new FireWeaponCommand(weaponController));
        }
    }
}
```

---

## üöÄ **–ì–û–¢–û–í–ù–Ü–°–¢–¨ –î–û –†–û–ó–®–ò–†–ï–ù–ù–Ø**

### üéØ **–ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
1. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–ª–∞–≤—ñ—à** - –≤ —Ñ–∞–π–ª/PlayerPrefs
2. **–ü—Ä–æ—Ñ—ñ–ª—ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è** - —Ä—ñ–∑–Ω—ñ —Å—Ö–µ–º–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
3. **–ì–µ–π–º–ø–∞–¥ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è InputManager
4. **Voice commands** - –≥–æ–ª–æ—Å–æ–≤–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–∏

### üöÄ **–î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
1. **–ú—É–ª—å—Ç–∏–ø–ª–µ—î—Ä –∫–æ–º–∞–Ω–¥–∏** - —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –¥—ñ–π
2. **AI –∫–æ–º–∞–Ω–¥–∏** - —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç —á–µ—Ä–µ–∑ Command Pattern
3. **Scripting —Å–∏—Å—Ç–µ–º–∞** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ —Å–∫—Ä–∏–ø—Ç–∏
4. **Analytics** - –∑–±—ñ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥

---

## üîÆ **–ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò**

### üìã **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å:**
1. **ScriptableObject –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó** ‚Üê **–ù–ê–°–¢–£–ü–ù–ò–ô**
2. **Audio Manager –∑ Event System**
3. **Dependency Injection**
4. **Performance –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó**

### üéØ **–ß–æ–º—É ScriptableObject –Ω–∞—Å—Ç—É–ø–Ω–∏–π:**
- –Ü–¥–µ–∞–ª—å–Ω–æ –¥–æ–ø–æ–≤–Ω—é—î Command Pattern
- –î–æ–∑–≤–æ–ª–∏—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–∏
- –°–ø—Ä–æ—Å—Ç–∏—Ç—å –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –≥—Ä–∏
- –ü—ñ–¥–≥–æ—Ç—É—î –¥–æ –º–æ–¥—É–ª—å–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏

---

## ‚úÖ **–†–ï–ó–£–õ–¨–¢–ê–¢–ò –í–ü–†–û–í–ê–î–ñ–ï–ù–ù–Ø**

### üéâ **–î–æ—Å—è–≥–Ω—É—Ç—ñ —Ü—ñ–ª—ñ:**
- [x] –ü–æ–≤–Ω–µ –¥–µ–∫–∞–ø–ª—ñ–Ω–≥ input –≤—ñ–¥ game logic
- [x] Undo/Redo —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- [x] Replay —Å–∏—Å—Ç–µ–º–∞
- [x] –ì–Ω—É—á–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
- [x] –ú–∞–∫—Ä–æ—Å–∏ —Ç–∞ –∫–æ–º–±–æ –∫–æ–º–∞–Ω–¥–∏
- [x] Debug –∫–æ–º–∞–Ω–¥–∏
- [x] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Event System
- [x] –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### üìä **–Ø–∫—ñ—Å–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏:**
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –ó–±—ñ–ª—å—à–µ–Ω–∞ –Ω–∞ 233%
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**: –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ (Undo, Replay, Macros)
- **–ö–æ–¥**: –ß–∏—Å—Ç—ñ—à–∏–π —Ç–∞ –±—ñ–ª—å—à –º–æ–¥—É–ª—å–Ω–∏–π
- **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –õ–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –∫–æ–º–∞–Ω–¥–∏

### üèÜ **–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Ä—ñ–≤–µ–Ω—å:**
–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä –º–∞—î input —Å–∏—Å—Ç–µ–º—É —Ä—ñ–≤–Ω—è AAA-—ñ–≥–æ—Ä –∑:
- ‚úÖ –ü–æ–≤–Ω–æ—é –≥–Ω—É—á–∫—ñ—Å—Ç—é —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- ‚úÖ –†–æ–∑—à–∏—Ä–µ–Ω–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ (Undo/Replay)
- ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—é –¥–æ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–∞
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é

---

## üéØ **–í–ò–°–ù–û–í–û–ö**

Command Pattern —É—Å–ø—ñ—à–Ω–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –∑ Event System —Ç–∞ State Machine. Input —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä:

- ‚úÖ **–ì–Ω—É—á–∫–∞** - –ª–µ–≥–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏
- ‚úÖ **–ü–æ—Ç—É–∂–Ω–∞** - Undo/Redo, Replay, Macros
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∞** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏
- ‚úÖ **–¢–µ—Å—Ç–æ–≤–∞–Ω–∞** - –º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ
- ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞** - —ñ–Ω–¥—É—Å—Ç—Ä—ñ–π–Ω–∏–π —Ä—ñ–≤–µ–Ω—å

**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –µ—Ç–∞–ø—É: 100%**

---

*Command Pattern –≥–æ—Ç–æ–≤–∏–π! –ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ ScriptableObject –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ—ó —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó.*